#pragma once

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>::AtomicVector2() : x(0), y(0)
{ }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>::AtomicVector2(const T xValue, const T yValue) : x(xValue), y(yValue)
{ }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>::AtomicVector2(const AtomicVector2& other) : x(other.x.load()), y(other.y.load())
{ }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>::AtomicVector2(AtomicVector2&& other) noexcept : x(std::move(other.x.load())), y(std::move(other.y.load()))
{ }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
template <typename U>
AtomicVector2<T>::AtomicVector2(const AtomicVector2<U>& other) : x(other.x.load()), y(other.y.load())
{ }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>::AtomicVector2(const sf::Vector2<T>& other) : x(other.x), y(other.y)
{ }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>::AtomicVector2(sf::Vector2<T>&& other) : x(std::move(other.x)), y(std::move(other.y))
{ }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>::AtomicVector2(const Vector2<T>& other) : x(other.x), y(other.y)
{ }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>::AtomicVector2(Vector2<T>&& other) : x(std::move(other.x)), y(std::move(other.y))
{ }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
template <typename U>
AtomicVector2<T>::AtomicVector2(AtomicVector2<U>&& other) : x(std::move(other.x.load())), y(std::move(other.y.load()))
{ }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>& AtomicVector2<T>::operator=(const AtomicVector2& other)
{
    x = other.x.load();
    y = other.y.load();

    return *this;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>& AtomicVector2<T>::operator=(AtomicVector2&& other) noexcept
{
    x = std::move(other.x.load());
    y = std::move(other.y.load());

    return *this;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
template <typename U>
AtomicVector2<T>& AtomicVector2<T>::operator=(const AtomicVector2<U>& other)
{
    x = other.x.load();
    y = other.y.load();

    return *this;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
template <typename U>
AtomicVector2<T>& AtomicVector2<T>::operator=(AtomicVector2<U>&& other)
{
    x = std::move(other.x.load());
    y = std::move(other.y.load());

    return *this;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
bool AtomicVector2<T>::operator==(const AtomicVector2& right)
{
    return ((x.load() == right.x.load()) && (y.load() == right.y.load()));
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
bool AtomicVector2<T>::operator!=(const AtomicVector2& right)
{
    return !(*this == right);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
T AtomicVector2<T>::operator*(const AtomicVector2& right) const
{
    return (x.load() * right.x.load() + y.load() * right.y.load());
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T> AtomicVector2<T>::operator*(const T scalar) const
{
    return AtomicVector2<T>(x.load() * scalar, y.load() * scalar);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T> AtomicVector2<T>::operator/(const T scalar) const
{
    const T invertedScalar = (T)1.0 / scalar;

    return AtomicVector2<T>(x.load() * invertedScalar, y.load() * invertedScalar);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T> AtomicVector2<T>::operator+(const AtomicVector2& right) const
{
    return AtomicVector2<T>(x.load() + right.x.load(), y.load() + right.y.load());
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T> AtomicVector2<T>::operator-(const AtomicVector2& right) const
{
    return AtomicVector2<T>(x.load() - right.x.load(), y.load() - right.y.load());
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>& AtomicVector2<T>::operator+=(const AtomicVector2& right)
{
    x = x.load() + right.x.load();
    y = y.load() + right.y.load();

    return *this;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>& AtomicVector2<T>::operator-=(const AtomicVector2& right)
{
    x = x.load() - right.x.load();
    y = y.load() - right.y.load();

    return *this;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>& AtomicVector2<T>::operator/=(const AtomicVector2& right)
{
    x = x.load() / right.x.load();
    y = y.load() / right.y.load();

    return *this;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>& AtomicVector2<T>::operator/=(const T scalar)
{
    const T invertedScalar = (T)1.0 / scalar;
    x = x.load() * invertedScalar;
    y = y.load() * invertedScalar;

    return *this;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T>& AtomicVector2<T>::operator*=(const T scalar)
{
    x = x.load() * scalar;
    y = y.load() *scalar;

    return *this;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T> operator-(const AtomicVector2<T>& right)
{
    return AtomicVector2<T>(-right.x.load(), -right.y.load());
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
AtomicVector2<T> operator*(const T scalar, const AtomicVector2<T>& right)
{
    return AtomicVector2<T>(right.x.load() * scalar, right.y.load() * scalar);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

template <typename T>
void AtomicVector2<T>::Zero()
{
    x = y = 0;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
